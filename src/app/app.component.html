<div>
	<h1>{{ this.title }}</h1>

	<button class="btn mb-4" *ngIf="!displayForm" (click)="displayForm=true">Add activity</button>

	<div class="activity-form mb-4" *ngIf="displayForm">
		<div class="form-group">
			<input #title required="required">
			<span class="highlight"></span>
			<span class="bar"></span>
			<label>Title</label>
		</div>
		<div class="form-group">
			<select #activityType required="required">
				<option>Select an activity type...</option>
				<option value="redmine">Redmine</option>
			</select>
			<span class="highlight"></span>
			<span class="bar"></span>
			<label>Activity type</label>
		</div>
		<div class="form-group">
			<input #activityTicket required="required">
			<span class="highlight"></span>
			<span class="bar"></span>
			<label>Activity ticket</label>
		</div>
		<div>
			<button class="btn" (click)="create( title.value, activityType.value, activityTicket.value )">Create</button>
		</div>
	</div>

	<table class="activities">
		<thead>
			<tr>
				<th>ID</th>
				<th>Title</th>
				<th>Ticket</th>
				<th>Date</th>
				<th>Time spent</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let activity of this.activities">
				<td>{{ activity.id }}</td>
				<td>{{ activity.title }}</td>
				<td>
					<a *ngIf="activity.activityType && activity.activityTicket" href="{{ this.redmine }}{{ activity.activityTicket }}">
						<a href="{{ this.redmine }}">{{ activity.activityType }} #{{ activity.activityTicket }}</a>
					</a>
				</td>
				<td>{{ activity.startTime.year }}-{{ activity.startTime.monthValue }}-{{ activity.startTime.dayOfMonth }}</td>
				<td>
					<span *ngIf="activity.duration">{{ activity.duration }}</span>
				</td>
			</tr>
		</tbody>
	</table>
</div>
